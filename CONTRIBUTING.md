# Contribution Guidelines

æ„Ÿè°¢æ‚¨å¯¹ YUI é¡¹ç›®çš„å…´è¶£ï¼æˆ‘ä»¬æ¬¢è¿ä»»ä½•å½¢å¼çš„è´¡çŒ®ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºä»£ç æäº¤ã€æ–‡æ¡£æ”¹è¿›ã€bug æŠ¥å‘Šå’ŒåŠŸèƒ½å»ºè®®ã€‚

## ç›®å½•
- [è¡Œä¸ºå‡†åˆ™](#è¡Œä¸ºå‡†åˆ™)
- [å¦‚ä½•è´¡çŒ®](#å¦‚ä½•è´¡çŒ®)
- [å¼€å‘æµç¨‹](#å¼€å‘æµç¨‹)
- [ä»£ç è§„èŒƒ](#ä»£ç è§„èŒƒ)
- [æäº¤è§„èŒƒ](#æäº¤è§„èŒƒ)
- [æ–‡æ¡£è§„èŒƒ](#æ–‡æ¡£è§„èŒƒ)
- [æµ‹è¯•è¦æ±‚](#æµ‹è¯•è¦æ±‚)

## è¡Œä¸ºå‡†åˆ™

### æˆ‘ä»¬çš„ä»·å€¼è§‚

1. **å°Šé‡ä»–äºº** - å¯¹æ‰€æœ‰è´¡çŒ®è€…ä¿æŒç¤¼è²Œå’Œä¸“ä¸š
2. **å¼€æ”¾åŒ…å®¹** - æ¬¢è¿ä¸åŒçš„è§‚ç‚¹å’ŒæŠ€æœ¯èƒŒæ™¯
3. **åä½œå…±èµ¢** - é€šè¿‡åˆä½œåˆ›é€ æ›´å¥½çš„è§£å†³æ–¹æ¡ˆ
4. **æŒç»­å­¦ä¹ ** - ä¹äºåˆ†äº«çŸ¥è¯†ï¼Œå…±åŒæˆé•¿

### ä¸å¯æ¥å—çš„è¡Œä¸º

- ä½¿ç”¨ä¾®è¾±æ€§è¯­è¨€æˆ–äººèº«æ”»å‡»
- å‘å¸ƒæ­§è§†æ€§å†…å®¹
- æ‰°ä¹±ç¤¾åŒºè®¨è®º
- æ³„éœ²ä»–äººéšç§ä¿¡æ¯
- æäº¤æ¶æ„ä»£ç 

## å¦‚ä½•è´¡çŒ®

### 1. æŠ¥å‘Š Bug

åœ¨æäº¤ bug æŠ¥å‘Šå‰ï¼Œè¯·ï¼š

- æœç´¢ç°æœ‰ issuesï¼Œé¿å…é‡å¤æŠ¥å‘Š
- ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬æµ‹è¯•
- æä¾›è¯¦ç»†çš„é‡ç°æ­¥éª¤
- åŒ…å«ç¯å¢ƒä¿¡æ¯ï¼ˆæ“ä½œç³»ç»Ÿã€ç¼–è¯‘å™¨ç‰ˆæœ¬ç­‰ï¼‰

**Bug æŠ¥å‘Šæ¨¡æ¿**ï¼š
```markdown
**æè¿°é—®é¢˜**
ç®€æ˜æ‰¼è¦åœ°æè¿° bug æ˜¯ä»€ä¹ˆ

**é‡ç°æ­¥éª¤**
1. æ‰“å¼€ '...'
2. ç‚¹å‡» '....'
3. æ»šåŠ¨åˆ° '....'
4. çœ‹åˆ°é”™è¯¯

**æœŸæœ›è¡Œä¸º**
æ¸…æ¥šæè¿°ä½ æœŸæœ›å‘ç”Ÿä»€ä¹ˆ

**æˆªå›¾**
å¦‚æœé€‚ç”¨ï¼Œæ·»åŠ æˆªå›¾å¸®åŠ©è§£é‡Šé—®é¢˜

**ç¯å¢ƒä¿¡æ¯**
- OS: [ä¾‹å¦‚ Windows 10]
- YUI ç‰ˆæœ¬: [ä¾‹å¦‚ v1.2.3]
- ç¼–è¯‘å™¨: [ä¾‹å¦‚ GCC 9.3.0]

**é™„åŠ ä¿¡æ¯**
ä»»ä½•å…¶ä»–ç›¸å…³ä¿¡æ¯
```

### 2. æå‡ºåŠŸèƒ½å»ºè®®

å¥½çš„åŠŸèƒ½å»ºè®®åº”è¯¥åŒ…æ‹¬ï¼š

- æ¸…æ™°çš„é—®é¢˜é™ˆè¿°
- è§£å†³æ–¹æ¡ˆæè¿°
- æ›¿ä»£æ–¹æ¡ˆè€ƒè™‘
- ä½¿ç”¨åœºæ™¯è¯´æ˜

### 3. ä»£ç è´¡çŒ®

#### å¼€å‘å‰å‡†å¤‡

1. Fork é¡¹ç›®ä»“åº“
2. å…‹éš†åˆ°æœ¬åœ°ï¼š
   ```bash
   git clone https://github.com/your-username/YUI.git
   cd YUI
   ```
3. æ·»åŠ ä¸Šæ¸¸ä»“åº“ï¼š
   ```bash
   git remote add upstream https://github.com/evilbinary/YUI.git
   ```

#### å¼€å‘æµç¨‹

1. **åˆ›å»ºç‰¹æ€§åˆ†æ”¯**ï¼š
   ```bash
   git checkout -b feature/your-feature-name
   # æˆ–ä¿®å¤åˆ†æ”¯
   git checkout -b fix/issue-description
   ```

2. **ç¼–å†™ä»£ç **ï¼š
   - éµå¾ªä»£ç è§„èŒƒ
   - æ·»åŠ å¿…è¦çš„æ³¨é‡Š
   - ç¼–å†™å•å…ƒæµ‹è¯•

3. **æµ‹è¯•ä»£ç **ï¼š
   ```bash
   # æ„å»ºé¡¹ç›®
   python ya.py -b xxx
   
   # è¿è¡Œæµ‹è¯•
   python ya.py test
   
   # è¿è¡Œç‰¹å®šæµ‹è¯•
   python ya.py -r  test xx
   ```

4. **æäº¤æ›´æ”¹**ï¼š
   ```bash
   git add .
   git commit -m "feat: add new feature description"
   git push origin feature/your-feature-name
   ```

5. **åˆ›å»º Pull Request**

## å¼€å‘æµç¨‹

### åˆ†æ”¯ç­–ç•¥

```
main (ç¨³å®šç‰ˆæœ¬)
â”œâ”€â”€ develop (å¼€å‘åˆ†æ”¯)
â”‚   â”œâ”€â”€ feature/new-feature
â”‚   â”œâ”€â”€ fix/bug-fix
â”‚   â””â”€â”€ hotfix/critical-issue
â””â”€â”€ release/v1.x.x (å‘å¸ƒå€™é€‰)
```

### ç‰ˆæœ¬ç®¡ç†

æˆ‘ä»¬éµå¾ª [è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶](https://semver.org/lang/zh-CN/)ï¼š

- **MAJOR**: ä¸å…¼å®¹çš„ API ä¿®æ”¹
- **MINOR**: å‘åå…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢
- **PATCH**: å‘åå…¼å®¹çš„é—®é¢˜ä¿®æ­£

### Pull Request æµç¨‹

1. **PR æäº¤è¦æ±‚**ï¼š
   - æ ‡é¢˜ä½¿ç”¨ conventional commits æ ¼å¼
   - æè¿°æ¸…æ¥šå˜æ›´å†…å®¹å’Œå½±å“
   - å…³è”ç›¸å…³çš„ issues
   - é€šè¿‡æ‰€æœ‰ CI æ£€æŸ¥

2. **ä»£ç å®¡æŸ¥**ï¼š
   - è‡³å°‘éœ€è¦ä¸€ä½ç»´æŠ¤è€…æ‰¹å‡†
   - è§£å†³æ‰€æœ‰è¯„è®ºå’Œå»ºè®®
   - ç¡®ä¿æµ‹è¯•é€šè¿‡

3. **åˆå¹¶æ¡ä»¶**ï¼š
   - æ‰€æœ‰ CI æ£€æŸ¥é€šè¿‡
   - ä»£ç å®¡æŸ¥è·å¾—æ‰¹å‡†
   - ç¬¦åˆä»£ç è§„èŒƒè¦æ±‚

## ä»£ç è§„èŒƒ

### C è¯­è¨€è§„èŒƒ

#### å‘½åçº¦å®š

```c
// ç±»å‹å®šä¹‰ - é©¼å³°å‘½åæ³•
typedef struct Layer Layer;
typedef struct ButtonComponent ButtonComponent;
typedef enum LayerType LayerType;

// å‡½æ•°å - ä¸‹åˆ’çº¿å‘½åæ³•
void layer_create(void);
void button_component_init(ButtonComponent* btn);
int util_string_compare(const char* str1, const char* str2);

// å˜é‡å - ä¸‹åˆ’çº¿å‘½åæ³•
int button_width;
char* layer_name;
bool is_visible;

// å¸¸é‡ - å…¨å¤§å†™åŠ ä¸‹åˆ’çº¿
#define MAX_LAYERS 100
#define DEFAULT_FONT_SIZE 16
#define INVALID_ID (-1)
```

#### æ–‡ä»¶ç»„ç»‡

```c
// header.h - å¤´æ–‡ä»¶æ¨¡æ¿
#ifndef HEADER_H
#define HEADER_H

// ç³»ç»Ÿå¤´æ–‡ä»¶
#include <stdio.h>
#include <stdlib.h>

// é¡¹ç›®å¤´æ–‡ä»¶
#include "common.h"

// å‰å‘å£°æ˜
struct Layer;

// ç±»å‹å®šä¹‰
typedef struct MyStruct MyStruct;
typedef enum MyEnum MyEnum;

// å¸¸é‡å®šä¹‰
#define MY_CONSTANT 42

// å‡½æ•°å£°æ˜
MyStruct* my_struct_create(void);
void my_struct_destroy(MyStruct* s);
int my_struct_process(MyStruct* s, int param);

#endif // HEADER_H

// source.c - æºæ–‡ä»¶æ¨¡æ¿
#include "header.h"
#include "other_header.h"

// é™æ€å‡½æ•°å£°æ˜ï¼ˆå¦‚æœéœ€è¦ï¼‰
static void helper_function(int param);
static bool validate_input(const char* input);

// å…¨å±€å˜é‡å®šä¹‰
static int global_counter = 0;
static const char* module_name = "MyModule";

// å‡½æ•°å®ç°
MyStruct* my_struct_create(void) {
    MyStruct* s = malloc(sizeof(MyStruct));
    if (!s) {
        LOG_ERROR("Failed to allocate MyStruct");
        return NULL;
    }
    
    // åˆå§‹åŒ–æˆå‘˜
    s->field1 = 0;
    s->field2 = NULL;
    s->initialized = false;
    
    return s;
}

void my_struct_destroy(MyStruct* s) {
    if (!s) return;
    
    // æ¸…ç†èµ„æº
    if (s->field2) {
        free(s->field2);
    }
    
    free(s);
}

// é™æ€å‡½æ•°å®ç°
static void helper_function(int param) {
    // å®ç°ç»†èŠ‚
}
```

#### é”™è¯¯å¤„ç†

```c
// è¿”å›é”™è¯¯ç çš„æ–¹å¼
int function_that_can_fail(void) {
    if (!condition) {
        LOG_ERROR("Precondition failed");
        return -1;  // æˆ–å®šä¹‰çš„é”™è¯¯ç 
    }
    
    // æ‰§è¡Œæ“ä½œ
    return 0;  // æˆåŠŸ
}

// ä½¿ç”¨æšä¸¾å®šä¹‰é”™è¯¯ç 
typedef enum {
    ERROR_NONE = 0,
    ERROR_INVALID_PARAM,
    ERROR_OUT_OF_MEMORY,
    ERROR_FILE_NOT_FOUND
} ErrorCode;

ErrorCode process_data(const char* data) {
    if (!data) {
        return ERROR_INVALID_PARAM;
    }
    
    char* buffer = malloc(strlen(data) + 1);
    if (!buffer) {
        return ERROR_OUT_OF_MEMORY;
    }
    
    // å¤„ç†æ•°æ®...
    free(buffer);
    return ERROR_NONE;
}
```

#### å†…å­˜ç®¡ç†

```c
// RAII é£æ ¼çš„èµ„æºç®¡ç†
typedef struct Resource {
    void* data;
    size_t size;
} Resource;

Resource* resource_create(size_t size) {
    Resource* res = malloc(sizeof(Resource));
    if (!res) return NULL;
    
    res->data = malloc(size);
    if (!res->data) {
        free(res);
        return NULL;
    }
    
    res->size = size;
    return res;
}

void resource_destroy(Resource* res) {
    if (!res) return;
    if (res->data) free(res->data);
    free(res);
}
```

### JavaScript è§„èŒƒ

```javascript
// ä½¿ç”¨ä¸¥æ ¼æ¨¡å¼
'use strict';

// å¸¸é‡å’Œå˜é‡å£°æ˜
const CONSTANT_VALUE = 100;
let mutableVariable = 0;
var legacyVariable; // å°½é‡é¿å…ä½¿ç”¨

// å‡½æ•°å£°æ˜ - é©¼å³°å‘½åæ³•
function handleClickEvent(elementId) {
    // å‡½æ•°ä½“
    return true;
}

// ç®­å¤´å‡½æ•°
const processData = (data) => {
    return data.map(item => item.value);
};

// å¯¹è±¡å­—é¢é‡
const config = {
    apiUrl: 'https://api.example.com',
    timeout: 5000,
    retries: 3
};

// é”™è¯¯å¤„ç†
try {
    const result = YUI.update(jsonData);
    if (!result) {
        throw new Error('Update failed');
    }
} catch (error) {
    YUI.log('Error:', error.message);
    // å¤„ç†é”™è¯¯
}
```

### JSON é…ç½®è§„èŒƒ

```json
{
    "id": "unique_identifier",
    "type": "ComponentType",
    "position": [0, 0],
    "size": [100, 50],
    "style": {
        "color": "#FF0000",
        "fontSize": 16,
        "borderRadius": 4
    },
    "events": {
        "onClick": "handleClick",
        "onHover": "handleHover"
    },
    "children": [],
    "metadata": {
        "version": "1.0.0",
        "author": "Developer Name"
    }
}
```

## æäº¤è§„èŒƒ

æˆ‘ä»¬ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒï¼š

### æäº¤ç±»å‹

| ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| feat | æ–°åŠŸèƒ½ | `feat: add dropdown component` |
| fix | ä¿®å¤ bug | `fix: resolve memory leak in layer system` |
| docs | æ–‡æ¡£æ›´æ–° | `docs: update API documentation` |
| style | ä»£ç æ ¼å¼è°ƒæ•´ | `style: format code with clang-format` |
| refactor | ä»£ç é‡æ„ | `refactor: optimize event dispatch system` |
| perf | æ€§èƒ½ä¼˜åŒ– | `perf: improve rendering performance` |
| test | æµ‹è¯•ç›¸å…³ | `test: add unit tests for layout manager` |
| chore | æ„å»º/å·¥å…·å˜æ›´ | `chore: update build scripts` |
| ci | CI é…ç½®å˜æ›´ | `ci: add GitHub Actions workflow` |

### æäº¤æ¶ˆæ¯æ ¼å¼

```
<type>(<scope>): <subject>

<body>

<footer>
```

### ç¤ºä¾‹

```bash
# ç®€å•æäº¤
git commit -m "feat(button): add hover effect support"

# è¯¦ç»†æäº¤
git commit -m "fix(render): resolve memory leak in texture cache

- Fixed issue where textures were not properly released
- Added automatic cleanup mechanism
- Improved memory usage tracking

Fixes #123"
```

## æ–‡æ¡£è§„èŒƒ

### æ–‡æ¡£ç»“æ„

æ‰€æœ‰æ–‡æ¡£åº”åŒ…å«ä»¥ä¸‹éƒ¨åˆ†ï¼š

1. **æ¦‚è¿°** - ç®€è¦ä»‹ç»æ–‡æ¡£å†…å®¹
2. **ç›®å½•** - æ–¹ä¾¿å¯¼èˆªçš„ç›®å½•ï¼ˆè¾ƒé•¿æ–‡æ¡£ï¼‰
3. **ä¸»è¦å†…å®¹** - è¯¦ç»†çš„è¯´æ˜å’Œç¤ºä¾‹
4. **å‚è€ƒèµ„æ–™** - ç›¸å…³é“¾æ¥å’Œè¿›ä¸€æ­¥é˜…è¯»

### Markdown è§„èŒƒ

```markdown
# ä¸€çº§æ ‡é¢˜

## äºŒçº§æ ‡é¢˜

### ä¸‰çº§æ ‡é¢˜

**ç²—ä½“æ–‡æœ¬** å’Œ *æ–œä½“æ–‡æœ¬*

- æ— åºåˆ—è¡¨é¡¹
- å¦ä¸€ä¸ªåˆ—è¡¨é¡¹

1. æœ‰åºåˆ—è¡¨é¡¹
2. ç¬¬äºŒé¡¹

[é“¾æ¥æ–‡æœ¬](https://example.com)

`è¡Œå†…ä»£ç `

```c
// ä»£ç å—
int main() {
    return 0;
}
```

> å¼•ç”¨å—å†…å®¹

| è¡¨æ ¼æ ‡é¢˜1 | è¡¨æ ¼æ ‡é¢˜2 |
|-----------|-----------|
| å†…å®¹1     | å†…å®¹2     |
```

### API æ–‡æ¡£æ ¼å¼

```c
/**
 * @brief ç®€çŸ­æè¿°å‡½æ•°åŠŸèƒ½
 * 
 * è¯¦ç»†æè¿°å‡½æ•°çš„ä½œç”¨ã€ä½¿ç”¨åœºæ™¯å’Œæ³¨æ„äº‹é¡¹
 * 
 * @param param1 å‚æ•°1çš„æè¿°
 * @param param2 å‚æ•°2çš„æè¿°
 * @return è¿”å›å€¼æè¿°
 * 
 * @example
 * ```c
 * int result = example_function(42, "test");
 * ```
 */
int example_function(int param1, const char* param2);
```

## æµ‹è¯•è¦æ±‚

### æµ‹è¯•è¦†ç›–èŒƒå›´

æ¯ä¸ªåŠŸèƒ½éƒ½åº”è¯¥æœ‰ç›¸åº”çš„æµ‹è¯•ï¼š

1. **å•å…ƒæµ‹è¯•** - æµ‹è¯•å•ä¸ªå‡½æ•°æˆ–ç»„ä»¶
2. **é›†æˆæµ‹è¯•** - æµ‹è¯•å¤šä¸ªç»„ä»¶ååŒå·¥ä½œ
3. **å›å½’æµ‹è¯•** - ç¡®ä¿ä¿®å¤ä¸ä¼šå¼•å…¥æ–°é—®é¢˜

### æµ‹è¯•æ–‡ä»¶ç»„ç»‡

```
tests/
â”œâ”€â”€ unit/                 # å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ test_layer.c
â”‚   â”œâ”€â”€ test_render.c
â”‚   â””â”€â”€ test_event.c
â”œâ”€â”€ integration/          # é›†æˆæµ‹è¯•
â”‚   â”œâ”€â”€ test_layout_components.json
â”‚   â””â”€â”€ test_animation_system.json
â””â”€â”€ regression/           # å›å½’æµ‹è¯•
    â”œâ”€â”€ test_bug_fixes.json
    â””â”€â”€ test_memory_leaks.c
```

### æµ‹è¯•ç¼–å†™è§„èŒƒ

```c
// test_example.c
#include "example.h"
#include <assert.h>
#include <stdio.h>

// æµ‹è¯•ç”¨ä¾‹å‘½åï¼štest_[æ¨¡å—]_[åŠŸèƒ½]_[åœºæ™¯]
void test_layer_create_success(void) {
    Layer* layer = layer_create(LAYER_VIEW);
    
    assert(layer != NULL);
    assert(layer->type == LAYER_VIEW);
    assert(layer->visible == true);
    
    layer_destroy(layer);
    printf("âœ“ test_layer_create_success passed\n");
}

void test_layer_create_invalid_type(void) {
    Layer* layer = layer_create(-1);
    
    assert(layer == NULL);
    
    printf("âœ“ test_layer_create_invalid_type passed\n");
}

// æµ‹è¯•å¥—ä»¶å…¥å£
int main(void) {
    printf("Running layer tests...\n");
    
    test_layer_create_success();
    test_layer_create_invalid_type();
    
    printf("All tests passed!\n");
    return 0;
}
```

### JSON æµ‹è¯•é…ç½®

```json
{
    "id": "test_button_click",
    "type": "TestSuite",
    "description": "æµ‹è¯•æŒ‰é’®ç‚¹å‡»åŠŸèƒ½",
    "setup": {
        "actions": [
            {"type": "create", "component": "Button", "id": "testBtn"}
        ]
    },
    "tests": [
        {
            "name": "æŒ‰é’®ç‚¹å‡»äº‹ä»¶è§¦å‘",
            "actions": [
                {"type": "click", "target": "testBtn"}
            ],
            "expectations": [
                {"property": "clicked", "value": true}
            ]
        }
    ],
    "teardown": {
        "actions": [
            {"type": "destroy", "target": "testBtn"}
        ]
    }
}
```

## ç¤¾åŒºå‚ä¸

### è®¨è®ºæ¸ é“

- **GitHub Issues** - Bug æŠ¥å‘Šå’ŒåŠŸèƒ½è®¨è®º
- **GitHub Discussions** - ä¸€èˆ¬æ€§è®¨è®ºå’ŒæŠ€æœ¯äº¤æµ
- **Pull Requests** - ä»£ç å®¡æŸ¥å’Œåé¦ˆ

### è´¡çŒ®è®¤å¯

æˆ‘ä»¬ä¼šå®šæœŸæ›´æ–°è´¡çŒ®è€…åå•ï¼Œåœ¨ä»¥ä¸‹åœ°æ–¹è‡´è°¢ï¼š

- README.md è´¡çŒ®è€…åˆ—è¡¨
- å‘å¸ƒæ—¥å¿—
- é¡¹ç›®ç½‘ç«™

## è®¸å¯è¯

é€šè¿‡å‘è¯¥é¡¹ç›®è´¡çŒ®ä»£ç ï¼Œæ‚¨åŒæ„æ‚¨çš„è´¡çŒ®å°†æ ¹æ®é¡¹ç›®çš„ MIT è®¸å¯è¯è¿›è¡Œè®¸å¯ã€‚

---

å¦‚æœæ‚¨æœ‰ä»»ä½•ç–‘é—®ï¼Œè¯·éšæ—¶åœ¨ GitHub Issues ä¸­æé—®ï¼

Happy coding! ğŸ‰